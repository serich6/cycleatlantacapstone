<!DOCTYPE html>
<html lang="en">
<head>
	<title>Bar Chart Example</title>
	<script type="text/javascript" src="http://d3js.org/d3.v2.js"></script>
	<script type="text/javascript" src="js/chartData.js"></script>
	<script src="js/respond.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
	<style>
		.bar.2013 { fill: green; }
		.bar.2012 { fill: orange; }
		.bar.2011 { fill: yellow; }
		.bar.2010 { fill: purple; }
	</style>

</head>
<body>
	<div id="chart"></div>
</body>

	<script type="text/javascript">
	var dataset = testTrips();
	//var dataset = Object.keys(arr).map(function(k) { return arr[k] });
	
	for(var i = 0; i<dataset.length; i++)
	{
		console.log(dataset[i]);
	}
	//var tripData = getAllTripsByYear(10);
		//Set size variables
			var width = 500;
			var height = 200;
			
			//Set up scales
			var xScale = d3.scale.linear()
								   .domain([0, d3.max(dataset)])
								   .range([0, width]);

			var yScale = d3.scale.ordinal()
								 .domain(d3.range(dataset.length))
								 .rangeRoundBands([0, height], 0.05);

			//Select the <body> and create a new SVG element
			//with the width and height values set above.
			var svg = d3.select("body").append("svg")
						.attr("width", width)
						.attr("height", height);

			//Create a series of 'rect' elements within the SVG,
			//with each 'rect' referencing a corresponding data values
			svg.selectAll("rect")
				.data(dataset)
				.enter()
				.append("rect")
				.attr("x", 0)
				.attr("y", function(d, i) {
					return yScale(i);
				})
				.attr("width", function(d) {
					return xScale(d);
				})
				.attr("height", yScale.rangeBand())
				.on("mouseover", function() {
					d3.select(this).classed("highlight", true);
				})
				.on("mouseout", function() {
					d3.select(this).classed("highlight", false);
				});

	
	
		
	</script>
</html>